@page "/search"
<PageTitle>Search</PageTitle>

<div class="search-container">
    <h1>Search the Dad-A-Base</h1>

    <div class="search-form">
        <div style="margin-bottom: 1.5rem;">
            <MudTextField @bind-Value="SearchTerm" Label="Search For" Variant="Variant.Outlined" 
                          OnKeyDown="@CheckForEnterKey" Placeholder="Enter search term..." />
        </div>
        <div style="margin-bottom: 1.5rem;">
            <MudSelect T="string" @bind-Value="SelectedCategory" Label="Category" Variant="Variant.Outlined"
                       Style="border-radius: 12px;">
                <MudSelectItem Value="@AllJokesConstant">All Categories</MudSelectItem>
                @foreach (var category in JokeCategories)
                {
                    <MudSelectItem Value="@category">@category</MudSelectItem>
                }
            </MudSelect>
        </div>
        <MudButton Variant="Variant.Filled" Color="Color.Primary" id="btnSearch" OnClick="ExecuteSearch">Search</MudButton>
    </div>

    <div class="search-results">
        <ul id="jokeList" class="results-list">
        @foreach (var myJoke in myJokes)
        {
            <li><JokeDisplayComponent myJoke="@myJoke" /></li>
        }
        </ul>
    </div>
</div>
